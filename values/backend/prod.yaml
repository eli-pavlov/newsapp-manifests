app: {name: backend, type: backend}
fullnameOverride: backend
image:
  repository: elipavlov/newsapp-backend
  tag: latest-66766bc # CI updates
service:
  type: ClusterIP
  port: 8080
env:
  plain:
    DB_ENGINE_TYPE: "POSTGRES"
  # Use the connection string secret created by bootstrap:
  secretRef: backend-db-connection

backend:
  image:
    repository: elipavlov/newsapp-backend
    tag: latest-66766bc

# --- Add the in-cluster DB (prod) ---
db:
  enabled: true
  service:
    name: postgresql-prod
    port: 5432
    type: ClusterIP
  dbName: newsdb_prod
  existingSecret:
    name: postgres-credentials
    userKey: POSTGRES_USER
    passwordKey: POSTGRES_PASSWORD
  storage:
    size: 20Gi
    # storageClassName: "local-path"
